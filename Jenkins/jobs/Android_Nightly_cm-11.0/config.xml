<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description>CyanogenMod 11.0 nightlies</description>
  <logRotator class="hudson.tasks.LogRotator">
    <daysToKeep>7</daysToKeep>
    <numToKeep>-1</numToKeep>
    <artifactDaysToKeep>-1</artifactDaysToKeep>
    <artifactNumToKeep>-1</artifactNumToKeep>
  </logRotator>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.security.AuthorizationMatrixProperty>
      <permission>hudson.model.Item.Delete:woodburyman</permission>
      <permission>hudson.model.Run.Delete:woodburyman</permission>
      <permission>hudson.model.Run.Update:woodburyman</permission>
      <permission>hudson.model.Item.Configure:woodburyman</permission>
      <permission>hudson.scm.SCM.Tag:woodburyman</permission>
      <permission>hudson.model.Item.Cancel:woodburyman</permission>
      <permission>hudson.model.Item.Discover:woodburyman</permission>
      <permission>hudson.model.Item.Read:woodburyman</permission>
      <permission>hudson.model.Item.Workspace:woodburyman</permission>
      <permission>hudson.model.Item.Build:woodburyman</permission>
    </hudson.security.AuthorizationMatrixProperty>
    <hudson.plugins.buildblocker.BuildBlockerProperty plugin="build-blocker-plugin@1.4-SNAPSHOT">
      <useBuildBlocker>false</useBuildBlocker>
    </hudson.plugins.buildblocker.BuildBlockerProperty>
    <hudson.model.ParametersDefinitionProperty>
      <parameterDefinitions>
        <com.cwctravel.hudson.plugins.extended__choice__parameter.ExtendedChoiceParameterDefinition plugin="extended-choice-parameter@0.34">
          <name>DEVICES</name>
          <description></description>
          <quoteValue>false</quoteValue>
          <visibleItemCount>10</visibleItemCount>
          <type>PT_MULTI_SELECT</type>
          <value>jflte, hammerhead, bacon</value>
          <defaultValue>jflte, hammerhead, bacon</defaultValue>
          <multiSelectDelimiter>,</multiSelectDelimiter>
        </com.cwctravel.hudson.plugins.extended__choice__parameter.ExtendedChoiceParameterDefinition>
      </parameterDefinitions>
    </hudson.model.ParametersDefinitionProperty>
    <hudson.plugins.throttleconcurrents.ThrottleJobProperty plugin="throttle-concurrents@1.8.3">
      <maxConcurrentPerNode>0</maxConcurrentPerNode>
      <maxConcurrentTotal>0</maxConcurrentTotal>
      <throttleEnabled>false</throttleEnabled>
      <throttleOption>project</throttleOption>
    </hudson.plugins.throttleconcurrents.ThrottleJobProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers/>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>#!/bin/bash

set -x

export JENKINS_URL=&quot;http://127.0.0.1:8090&quot;

JAVA=/usr/bin/java

rm -f jenkins-cli.jar
wget ${JENKINS_URL}/jnlpJars/jenkins-cli.jar

PARAMS=(
  &apos;-p&apos; &apos;ROM=cyanogenmod&apos;
  &apos;-p&apos; &apos;BRANCH=cm-11.0&apos;
  &apos;-p&apos; &apos;UPLOAD_AS=NIGHTLY&apos;
  &apos;-p&apos; &apos;UPDATE_TIMESTAMP=true&apos;
)

COUNTER=0
for device in ${DEVICES//,/ }; do
  EXTRA_PARAMS=()
#  if [ &quot;${COUNTER}&quot; -eq 0 ]; then
#    EXTRA_PARAMS+=(&apos;-p&apos; &apos;CLEAN=true&apos;)
#  else
#    EXTRA_PARAMS+=(&apos;-p&apos; &apos;SYNC=false&apos;)
#  fi

  # noobdev
  EXTRA_PARAMS+=(&apos;-p&apos; &apos;CM_EXTRAVERSION=noobdev&apos;)

  $JAVA -jar jenkins-cli.jar build Android ${PARAMS[@]} ${EXTRA_PARAMS[@]} -p LUNCH=${device}

  let &quot;COUNTER += 1&quot;
done</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>